<div class="page-body">
  <a *ngIf="branchId" [routerLink]="getBranchRoute()">Return to Branch Details...</a>
  <div *ngIf="!editing">
    <div>
      <h1 class="d-inline">
        Contact Details Page
      </h1>
      <!-- <button
        class="btn btn-dark btn-sm edit-btn mb-2 ml-2"
        (click)="editContact()"
      >
        <fa name="edit"></fa> Edit
      </button> -->
    </div>
    <div *ngIf="contactId && contact">
      <div>
        <div class="details-container">
          <span class="details-label"> Contact Name </span>
          <span class="details-text"> {{ contact.name }} </span>
        </div>

        <div class="details-container">
          <span class="details-label"> Type </span>
          <span class="details-text"> {{ contact.type }} </span>
        </div>

        <div class="details-container">
          <span class="details-label"> Email Address </span>
          <span class="details-text"> {{ contact.email }} </span>
        </div>

        <div class="details-container">
          <span class="details-label"> Phone Number </span>
          <span class="details-text"> {{ contact.phone }} </span>
        </div>

        <div class="details-container">
          <span class="details-label"> Branch </span>
          <span class="details-text"> {{ contact.branches[0].name }} </span>
        </div>

        <h2 class="mt-4 mb-3">Products</h2>
        <select
          multiple
          disabled
          *ngIf="contact.products.length"
          [size]="contact.products.length > 6 ? 6 : contact.products.length"
        >
          <option *ngFor="let product of contact.products" [value]="product.id">
            {{ product.name }}
          </option>
        </select>
      </div>
    </div>
  </div>

  <div *ngIf="editing">
    <h1 class="d-inline">
      Editing Contact
    </h1>
    <div *ngIf="contactId && contact">
      <div class="row">
        <div class="col-12">
          <label for="name">Full Name</label>
          <div class="input-group mb-3">
            <input
              class="form-control"
              type="text"
              id="name"
              [(ngModel)]="name"
              placeholder="e.g. Agent Smith"
            />
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <label for="contactType">Type</label>
          <div class="input-group mb-3">
            <select
              class="custom-select"
              id="contactType"
              [(ngModel)]="contactType"
            >
              <option selected disabled [value]="undefined"
                >Choose One...</option
              >
              <option>Marketing Rep</option>
              <option>Underwriter</option>
            </select>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <label for="phoneNumber"> Phone Number</label>
          <div class="input-group mb-3">
            <input
              class="form-control"
              type="tel"
              id="phoneNumber"
              [(ngModel)]="phoneNumber"
              placeholder="123-456-7890"
            />
          </div>
        </div>
        <div class="col-md-6">
          <label for="emailAddress">Email Address</label>
          <div class="input-group mb-3">
            <input
              class="form-control"
              type="email"
              id="emailAddress"
              [(ngModel)]="emailAddress"
              placeholder="chubbAcc1@test.com"
            />
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <label for="selectedBranch">Select a branch...</label>
        </div>
        <div class="col-12">
          <select
            class="custom-select"
            id="selectedBranch"
            [(ngModel)]="selectedBranch"
          >
            <option selected disabled [value]="null">Choose...</option>
            <option
              *ngFor="let branch of availableBranches"
              [value]="branch.id"
              >{{ branch.name }}</option
            >
          </select>
        </div>
      </div>

      <!-- <div class="row mt-3 mb-3">
        <div class="col-12">
          <label for="branchProducts">Select the products that apply...</label>
        </div>
        <div class="col-12">
          <select
            *ngIf="availableProducts.length"
            multiple
            [size]="availableProducts.length > 6 ? 6 : availableProducts.length"
            [(ngModel)]="selectedProducts"
          >
            <option
              *ngFor="let product of availableProducts"
              [value]="product.id"
              (click)="addThisProduct(product)"
            >
              {{ product.name }}
            </option>
          </select>
        </div>
      </div> -->
    </div>
    <button class="btn btn-dark btn-purple mt-3 mr-3" (click)="cancelEdit()">
      Cancel
    </button>
    <button class="btn btn-dark btn-purple mt-3" (click)="saveContact()">
      Update Contact
    </button>
  </div>
</div>
